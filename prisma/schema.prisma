// This is your Prisma schema file for local-first SQLite database
// Learn more: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./app.db"
}

model Todo {
  id        String   @id // UUID generated in application code
  text      String
  done      Boolean  @default(false)
  priority  String   @default("medium") // "low" | "medium" | "high"
  dueDate   String?  @default("")
  createdAt String   @default("")
  updatedAt String   @default("")

  @@index([done])
  @@index([priority])
}

model Note {
  id        String   @id // UUID generated in application code
  title     String   @default("")
  content   String   @default("")
  tags      String   @default("[]") // Stored as JSON string
  createdAt String   @default("")
  updatedAt String   @default("")

  @@index([updatedAt])
}

model ShoppingList {
  id        String   @id // UUID generated in application code
  title     String
  createdAt Int
  updatedAt Int
  items     ShoppingItem[]

  @@index([updatedAt])
}

model ShoppingItem {
  id        String   @id // UUID generated in application code
  listId    String
  name      String
  quantity  Float    @default(1)
  price     Float    @default(0)
  checked   Boolean  @default(false)
  createdAt Int
  updatedAt Int
  list      ShoppingList @relation(fields: [listId], references: [id], onDelete: Cascade)

  @@index([listId])
}

